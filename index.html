<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrowLeaf ‚Äî Yetki Paneli</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#ff9a3c; --bg2:#ff6a00; --accent:#fff; --card-bg: rgba(255,255,255,0.08); --glass: rgba(255,255,255,0.06);
}
*{margin:0; padding:0; box-sizing:border-box;}
body{font-family:'Poppins',sans-serif; height:100vh; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg,var(--bg1),var(--bg2)); color:var(--accent);}
.brand{position:fixed; top:18px; left:20px; display:flex; gap:8px; align-items:center; font-weight:700; font-size:16px;}
.card{background: var(--card-bg); padding:40px; border-radius:18px; text-align:center; box-shadow:0 12px 40px rgba(0,0,0,0.18); max-width:480px; width:90%;}
button{padding:14px 28px; font-size:16px; font-weight:700; border:none; border-radius:12px; cursor:pointer; transition:.2s; background:white; color:var(--bg2);}
button:hover{transform:translateY(-3px);}
input{padding:10px 14px; border-radius:10px; border:none; width:100%; margin-bottom:12px;}
.modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,0.5); display:none; align-items:center; justify-content:center;}
.modal{background:white; color:#222; padding:20px; border-radius:12px; width:90%; max-width:400px;}
.modal h2{margin-bottom:12px;}
.modal .btn{margin-top:8px; width:100%;}
.admin-panel{margin-top:20px; text-align:left;}
.admin-panel h3{margin-bottom:8px;}
.admin-panel ul{list-style:none; padding-left:0;}
.toggle-btn{margin:10px 0; padding:6px 10px; border-radius:8px; background:#ff6a00; color:#fff; border:none; cursor:pointer;}
</style>
</head>
<body>
  <div class="brand">üçÉ GrowLeaf</div>

  <div class="card" id="mainCard">
    <h1>≈ûimdi Yetkili Olmaya Ba≈üla</h1>
    <button id="startBtn">Ba≈üla</button>
    <button id="adminLoginBtn" style="margin-top:12px;">Admin Giri≈üi</button>
  </div>

  <!-- Form Modal -->
  <div class="modal-backdrop" id="formModal">
    <div class="modal">
      <h2>Yetki Talebi</h2>
      <input type="text" id="discordName" placeholder="Kullanƒ±cƒ± Adƒ± / Discord Adƒ±" required>
      <button class="btn" id="submitRequest">G√∂nder</button>
      <button class="btn" id="closeForm" style="margin-top:6px;background:#ccc;color:#222;">Kapat</button>
    </div>
  </div>

  <!-- Admin Login Modal -->
  <div class="modal-backdrop" id="adminModal">
    <div class="modal">
      <h2>Admin Giri≈üi</h2>
      <input type="text" id="adminUser" placeholder="Kullanƒ±cƒ± Adƒ±">
      <input type="password" id="adminPass" placeholder="≈ûifre">
      <button class="btn" id="adminLogin">Giri≈ü</button>
      <button class="btn" id="closeAdmin" style="margin-top:6px;background:#ccc;color:#222;">Kapat</button>
    </div>
  </div>

  <!-- Admin Panel -->
  <div class="card" id="adminPanel" style="display:none;">
    <h1>Admin Paneli</h1>
    <button class="toggle-btn" id="toggleRequests">Talep G√∂nderimini Kapat</button>
    <div class="admin-panel">
      <h3>Talepler:</h3>
      <ul id="requestList"></ul>
    </div>
  </div>

<script>
let requests = JSON.parse(localStorage.getItem('growleafRequests') || '[]');
let requestOpen = JSON.parse(localStorage.getItem('growleafOpen') || 'true');

// DOM Elements
const startBtn = document.getElementById('startBtn');
const formModal = document.getElementById('formModal');
const closeForm = document.getElementById('closeForm');
const submitRequest = document.getElementById('submitRequest');
const discordInput = document.getElementById('discordName');

const adminLoginBtn = document.getElementById('adminLoginBtn');
const adminModal = document.getElementById('adminModal');
const closeAdmin = document.getElementById('closeAdmin');
const adminLogin = document.getElementById('adminLogin');
const adminUser = document.getElementById('adminUser');
const adminPass = document.getElementById('adminPass');

const adminPanel = document.getElementById('adminPanel');
const requestList = document.getElementById('requestList');
const toggleRequests = document.getElementById('toggleRequests');

function refreshList(){
  requestList.innerHTML = '';
  requests.forEach(name => {
    const li = document.createElement('li');
    li.textContent = name;
    requestList.appendChild(li);
  });
}

// Event Listeners
startBtn.addEventListener('click',()=>{
  if(!requestOpen){
    alert('≈ûu anda talep g√∂nderimi kapalƒ±.');
    return;
  }
  formModal.style.display='flex';
});

closeForm.addEventListener('click',()=>formModal.style.display='none');

submitRequest.addEventListener('click',()=>{
  const name = discordInput.value.trim();
  if(name===''){ alert('L√ºtfen kullanƒ±cƒ± adƒ±nƒ±zƒ± girin!'); return; }
  requests.push(name);
  localStorage.setItem('growleafRequests',JSON.stringify(requests));
  discordInput.value='';
  formModal.style.display='none';
  alert('Talebiniz g√∂nderildi!');
});

adminLoginBtn.addEventListener('click',()=>adminModal.style.display='flex');
closeAdmin.addEventListener('click',()=>adminModal.style.display='none');

adminLogin.addEventListener('click',()=>{
  if(adminUser.value==='varon' && adminPass.value==='varon79'){
    adminModal.style.display='none';
    document.getElementById('mainCard').style.display='none';
    adminPanel.style.display='block';
    refreshList();
    toggleRequests.textContent = requestOpen?'Talep G√∂nderimini Kapat':'Talep G√∂nderimini A√ß';
  } else{
    alert('Hatalƒ± kullanƒ±cƒ± adƒ± veya ≈üifre!');
  }
});

toggleRequests.addEventListener('click',()=>{
  requestOpen = !requestOpen;
  localStorage.setItem('growleafOpen',JSON.stringify(requestOpen));
  toggleRequests.textContent = requestOpen?'Talep G√∂nderimini Kapat':'Talep G√∂nderimini A√ß';
});

// ESC ile modalleri kapatma
document.addEventListener('keydown',(e)=>{
  if(e.key==='Escape'){
    formModal.style.display='none';
    adminModal.style.display='none';
  }
});

// Modal backdrop tƒ±klayƒ±nca kapatma
formModal.addEventListener('click',e=>{if(e.target===formModal) formModal.style.display='none';});
adminModal.addEventListener('click',e=>{if(e.target===adminModal) adminModal.style.display='none';});
</script>
</body>
</html>

