<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GrowLeaf â€” Yetki Paneli</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg1:#ff9a3c;--bg2:#ff6a00;--accent:#fff;--card-bg: rgba(255,255,255,0.08);}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:var(--accent);}
.brand{position:fixed;top:18px;left:20px;display:flex;gap:8px;align-items:center;font-weight:700;font-size:16px;}
.card{background:var(--card-bg);padding:40px;border-radius:18px;text-align:center;box-shadow:0 12px 40px rgba(0,0,0,0.18);max-width:480px;width:90%;}
button{padding:14px 28px;font-size:16px;font-weight:700;border:none;border-radius:12px;cursor:pointer;transition:.2s;background:white;color:var(--bg2);}
button:hover{transform:translateY(-3px);}
input, textarea{padding:10px 14px;border-radius:10px;border:none;width:100%;margin-bottom:12px;}
textarea{resize:none;height:80px;}
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;}
.modal{background:white;color:#222;padding:20px;border-radius:12px;width:90%;max-width:400px;}
.modal h2{margin-bottom:12px;}
.modal .btn{margin-top:8px;width:100%;}
.admin-panel{margin-top:20px;text-align:left;}
.admin-panel h3{margin-bottom:8px;}
.admin-panel ul{list-style:none;padding-left:0;}
.toggle-btn{margin:10px 0;padding:6px 10px;border-radius:8px;background:#ff6a00;color:#fff;border:none;cursor:pointer;}
#langSelector{position:fixed;top:18px;right:140px;padding:6px 10px;border-radius:8px;border:none;}
#adminLoginBtn{position:fixed;top:18px;right:20px;padding:6px 10px;border-radius:8px;border:none;}
.infoText{font-size:14px;color:#fff;text-align:left;margin-top:12px;}
</style>
</head>
<body>
<div class="brand">ğŸƒ GrowLeaf</div>

<!-- Dil SeÃ§imi -->
<select id="langSelector">
  <option value="tr">TÃ¼rkÃ§e</option>
  <option value="en">English</option>
  <option value="id">Indonesia</option>
</select>

<div class="card" id="mainCard">
  <h1 id="mainTitle">Åimdi Yetkili Olmaya BaÅŸla</h1>
  <button id="startBtn">BaÅŸla</button>
</div>

<button id="adminLoginBtn">Admin GiriÅŸi</button>

<!-- Form Modal -->
<div class="modal-backdrop" id="formModal">
  <div class="modal">
    <h2 id="formTitle">Yetki Talebi</h2>
    <input type="text" id="discordName" placeholder="KullanÄ±cÄ± AdÄ± / Discord AdÄ±">
    <p class="infoText" id="infoText">GrowLeafâ€™te yetkili olacaksÄ±nÄ±z. Sizi deneme olarak alacaÄŸÄ±z. Ä°lerleyen zamanlarda rolÃ¼nÃ¼z yÃ¼kselecektir, bu yÃ¼zden sadÄ±k olmanÄ±z Ã¶nemlidir. Deneme olarak alÄ±ndÄ±ÄŸÄ±nÄ±zda ticket bakacaksÄ±nÄ±z ilk baÅŸta, sonradan oyun iÃ§inde rol alacaksÄ±nÄ±z ve en sonda baÅŸ yetkili olacaksÄ±nÄ±z ve diÄŸerlerini yÃ¶neteceksiniz.</p>
    <button class="btn" id="submitRequest">Onayla</button>
    <button class="btn" id="closeForm" style="margin-top:6px;background:#ccc;color:#222;">Kapat</button>
  </div>
</div>

<!-- Admin Login Modal -->
<div class="modal-backdrop" id="adminModal">
  <div class="modal">
    <h2>Admin GiriÅŸi</h2>
    <input type="text" id="adminUser" placeholder="KullanÄ±cÄ± AdÄ±">
    <input type="password" id="adminPass" placeholder="Åifre">
    <button class="btn" id="adminLogin">GiriÅŸ</button>
    <button class="btn" id="closeAdmin" style="margin-top:6px;background:#ccc;color:#222;">Kapat</button>
  </div>
</div>

<!-- Admin Panel -->
<div class="card" id="adminPanel" style="display:none;">
  <h1>Admin Paneli</h1>
  <button class="toggle-btn" id="toggleRequests">Talep GÃ¶nderimini Kapat</button>
  <div class="admin-panel">
    <h3>Talepler:</h3>
    <ul id="requestList"></ul>
  </div>
</div>

<script>
// LocalStorage Data
let requests = JSON.parse(localStorage.getItem('growleafRequests') || '[]');
let requestOpen = JSON.parse(localStorage.getItem('growleafOpen') || 'true');

// DOM Elements
const startBtn = document.getElementById('startBtn');
const formModal = document.getElementById('formModal');
const closeForm = document.getElementById('closeForm');
const submitRequest = document.getElementById('submitRequest');
const discordInput = document.getElementById('discordName');

const adminLoginBtn = document.getElementById('adminLoginBtn');
const adminModal = document.getElementById('adminModal');
const closeAdmin = document.getElementById('closeAdmin');
const adminLogin = document.getElementById('adminLogin');
const adminUser = document.getElementById('adminUser');
const adminPass = document.getElementById('adminPass');

const adminPanel = document.getElementById('adminPanel');
const requestList = document.getElementById('requestList');
const toggleRequests = document.getElementById('toggleRequests');

const langSelector = document.getElementById('langSelector');
const mainTitle = document.getElementById('mainTitle');
const formTitle = document.getElementById('formTitle');
const startButton = startBtn;
const infoText = document.getElementById('infoText');

// Language Texts
const texts = {
  tr: {
    mainTitle: "Åimdi Yetkili Olmaya BaÅŸla",
    startBtn: "BaÅŸla",
    formTitle: "Yetki Talebi",
    submitBtn: "Onayla",
    closeBtn: "Kapat",
    adminLogin: "Admin GiriÅŸi",
    requestClosed: "Åu anda talep gÃ¶nderimi kapalÄ±.",
    alertSent: "Talebiniz gÃ¶nderildi!",
    infoText: "GrowLeafâ€™te yetkili olacaksÄ±nÄ±z. Sizi deneme olarak alacaÄŸÄ±z. Ä°lerleyen zamanlarda rolÃ¼nÃ¼z yÃ¼kselecektir, bu yÃ¼zden sadÄ±k olmanÄ±z Ã¶nemlidir. Deneme olarak alÄ±ndÄ±ÄŸÄ±nÄ±zda ticket bakacaksÄ±nÄ±z ilk baÅŸta, sonradan oyun iÃ§inde rol alacaksÄ±nÄ±z ve en sonda baÅŸ yetkili olacaksÄ±nÄ±z ve diÄŸerlerini yÃ¶neteceksiniz."
  },
  en: {
    mainTitle: "Start Becoming an Officer Now",
    startBtn: "Start",
    formTitle: "Officer Request",
    submitBtn: "Submit",
    closeBtn: "Close",
    adminLogin: "Admin Login",
    requestClosed: "Request submission is currently closed.",
    alertSent: "Your request has been sent!",
    infoText: "You will become an officer at GrowLeaf. We will take you as a trial. Your role will increase over time, so loyalty is important. As a trial, you will manage tickets at first, later you will get a role in-game, and eventually become head officer and manage others."
  },
  id: {
    mainTitle: "Mulai Jadi Officer Sekarang",
    startBtn: "Mulai",
    formTitle: "Permintaan Officer",
    submitBtn: "Kirim",
    closeBtn: "Tutup",
    adminLogin: "Login Admin",
    requestClosed: "Pengiriman permintaan sedang ditutup.",
    alertSent: "Permintaanmu telah dikirim!",
    infoText: "Anda akan menjadi officer di GrowLeaf. Kami akan mengambil Anda sebagai percobaan. Peran Anda akan meningkat seiring waktu, jadi kesetiaan penting. Sebagai percobaan, Anda akan menangani tiket pada awalnya, kemudian Anda akan mendapatkan peran di dalam game, dan akhirnya menjadi kepala officer dan mengelola orang lain."
  }
};

function setLanguage(lang){
  mainTitle.textContent = texts[lang].mainTitle;
  startBtn.textContent = texts[lang].startBtn;
  formTitle.textContent = texts[lang].formTitle;
  submitRequest.textContent = texts[lang].submitBtn;
  closeForm.textContent = texts[lang].closeBtn;
  adminLoginBtn.textContent = texts[lang].adminLogin;
  infoText.textContent = texts[lang].infoText;
}

langSelector.addEventListener('change', e=> setLanguage(e.target.value));
setLanguage('tr');

// Refresh Requests
function refreshList(){
  requestList.innerHTML = '';
  requests.forEach(r=>{
    const li = document.createElement('li');
    li.textContent = r.name;
    requestList.appendChild(li);
  });
}

// Events
startBtn.addEventListener('click',()=>{
  if(!requestOpen){ alert(texts[langSelector.value].requestClosed); return; }
  formModal.style.display='flex';
});

closeForm.addEventListener('click',()=>formModal.style.display='none');

submitRequest.addEventListener('click',()=>{
  const name = discordInput.value.trim();
  if(name===''){ alert('LÃ¼tfen kullanÄ±cÄ± adÄ±nÄ±zÄ± girin!'); return; }
  requests.push({name});
  localStorage.setItem('growleafRequests',JSON.stringify(requests));
  discordInput.value='';
  formModal.style.display='none';
  alert(texts[langSelector.value].alertSent);
});

adminLoginBtn.addEventListener('click',()=>adminModal.style.display='flex');
closeAdmin.addEventListener('click',()=>adminModal.style.display='none');

adminLogin.addEventListener('click',()=>{
  if(adminUser.value==='varon' && adminPass.value==='varon79'){
    adminModal.style.display='none';
    document.getElementById('mainCard').style.display='none';
    adminPanel.style.display='block';
    refreshList();
    toggleRequests.textContent = requestOpen?'Talep GÃ¶nderimini Kapat':'Talep GÃ¶nderimini AÃ§';
  } else{
    alert('HatalÄ± kullanÄ±cÄ± adÄ± veya ÅŸifre!');
  }
});

toggleRequests.addEventListener('click',()=>{
  requestOpen = !requestOpen;
  localStorage.setItem('growleafOpen',JSON.stringify(requestOpen));
  toggleRequests.textContent = requestOpen?'Talep GÃ¶nderimini Kapat':'Talep GÃ¶nderimini AÃ§';
});

// ESC ile kapatma
document.addEventListener('keydown',(e)=>{
  if(e.key==='Escape'){ formModal.style.display='none'; adminModal.style.display='none'; }
});
formModal.addEventListener('click',e=>{if(e.target===formModal) formModal.style.display='none';});
adminModal.addEventListener('click',e=>{if(e.target===adminModal) adminModal.style.display='none';});
</script>
</body>
</html>

